name: USA
setup_name: FCH
smh_round: R12
data_path: data
start_date: 2020-01-01
end_date: 2022-09-03
end_date_groundtruth: 2022-03-05
nslots: 300

compartments:
  infection_stage: ["S", "E", "I1", "I2", "I3", "R", "W"]
  vaccination_stage: ["unvaccinated", "1dose", "2dose", "waned", "previousinfection"]
  variant_type: ["WILD", "ALPHA", "DELTA", "OMICRON"]
  age_strata: ["age0to17", "age18to64", "age65to100"]

spatial_setup:
  census_year: 2019
  modeled_states:
    - AK
    - AL
    - AR
    - AZ
    - CA
    - CO
    - CT
    - DC
    - DE
    - FL
    - GA
    - HI
    - IA
    - ID
    - IL
    - IN
    - KS
    - KY
    - LA
    - MA
    - MD
    - ME
    - MI
    - MN
    - MO
    - MS
    - MT
    - NC
    - ND
    - NE
    - NH
    - NJ
    - NM
    - NV
    - NY
    - OH
    - OK
    - OR
    - PA
    - RI
    - SC
    - SD
    - TN
    - TX
    - UT
    - VA
    - VT
    - WA
    - WI
    - WV
    - WY
  geodata: geodata_2019_statelevel.csv
  mobility: mobility_2011-2015_statelevel.csv
  popnodes: pop2019est
  nodenames: geoid
  include_in_report: include_in_report
  state_level: TRUE

seeding:
  variant_filename: data/variant/variant_props_long.csv
  seeding_compartments:
    WILD:
      source_compartment: ["S", "unvaccinated", "WILD", "age18to64"]
      destination_compartment: ["E", "unvaccinated", "WILD", "age18to64"]
    ALPHA:
      source_compartment: ["S", "unvaccinated", "WILD", "age18to64"]
      destination_compartment: ["E", "unvaccinated", "ALPHA", "age18to64"]
    DELTA:
      source_compartment: ["S", "unvaccinated", "WILD", "age18to64"]
      destination_compartment: ["E", "unvaccinated", "DELTA", "age18to64"]
    OMICRON:
      source_compartment: ["S", "unvaccinated", "WILD", "age18to64"]
      destination_compartment: ["E", "unvaccinated", "OMICRON", "age18to64"]
  method: FolderDraw
  seeding_file_type: seed
  folder_path: importation/minimal/
  lambda_file: data/seeding_territories.csv
  pop_seed_file: data/seeding_agestrat.csv
  date_sd: 1
  amount_sd: 0

seir:
  integration:
    method: legacy
    dt: 2.000
  parameters:
    sigma:
      value:
        distribution: fixed
        value: 0.192307692307692
    sigma_delta:
      value:
        distribution: fixed
        value: 0.25
    sigma_omicron:
      value:
        distribution: fixed
        value: 0.333333333333333
    alpha:
      value:
        distribution: fixed
        value: 0.975
    r0:
      value:
        distribution: fixed
        value: 2.3
    gamma:
      value:
        distribution: uniform
        low: 0.222222222222222
        high: 0.333333333333333
    epsilon:
      value:
        distribution: fixed
        value: 0.00547945205479452
    chi1:
      value:
        distribution: fixed
        value: 1.5
    chi2:
      value:
        distribution: fixed
        value: 2.4
    chi3:
      value:
        distribution: fixed
        value: 3
    theta1_WILD:
      value:
        distribution: fixed
        value: 1 - 0.6
    theta2_WILD:
      value:
        distribution: fixed
        value: 1 - 0.85
    theta1_ALPHA:
      value:
        distribution: fixed
        value: 1 - 0.6
    theta2_ALPHA:
      value:
        distribution: fixed
        value: 1 - 0.85
    thetaW_age0to17:
      value:
        distribution: fixed
        value: 1 - 0.55
    thetaW_age18to64:
      value:
        distribution: fixed
        value: 1 - 0.55
    thetaW_age65to100:
      value:
        distribution: fixed
        value: 1 - 0.48
    theta1_DELTA:
      value:
        distribution: fixed
        value: 1 - 0.5
    theta2_DELTA:
      value:
        distribution: fixed
        value: 1 - 0.8
    thetaW_OMICRON_age0to17:
      value:
        distribution: fixed
        value: 1 - 0.275
    thetaW_OMICRON_age18to64:
      value:
        distribution: fixed
        value: 1 - 0.275
    thetaW_OMICRON_age65to100:
      value:
        distribution: fixed
        value: 1 - 0.24
    theta1_OMICRON:
      value:
        distribution: fixed
        value: 1 - 0.25
    theta2_OMICRON:
      value:
        distribution: fixed
        value: 1 - 0.40625
    nu1age0to17:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu3age0to17:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu1age18to64:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu3age18to64:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu1age65to100:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu3age65to100:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0
    nu2:
      intervention_overlap_operation: sum
      value:
        distribution: fixed
        value: 0.0386100386100386


interventions:
  scenarios:
    - inference
  settings:
    all_independent:
      template: Reduce
      parameter: r0
      affected_geoids: "all"
      period_start_date: 2020-01-01
      period_end_date: 2022-09-03
      value:
        distribution: truncnorm
        mean: 0
        sd: 0.025
        a: -1
        b: 1
    all_together:
      template: Reduce
      parameter: chi3
      affected_geoids: "all"
      spatial_groups: "all"
      period_start_date: 2020-01-01
      period_end_date: 2022-09-03
      value:
        distribution: truncnorm
        mean: 0
        sd: 0.025
        a: -1
        b: 1
    two_groups:
      template: Reduce
      parameter: r0
      affected_geoids: "all"
      spatial_groups: 
        - ["01000", "02000"]
        - ["04000", "06000"]
      period_start_date: 2020-04-04
      period_end_date: 2020-04-30
      value:
        distribution: truncnorm
        mean: 0.55
        sd: 0.025
        a: 0
        b: 0.9
      perturbation:
        distribution: truncnorm
        mean: 0
        sd: 0.025
        a: -1
        b: 1
    one_group:
      template: Reduce
      parameter: r0
      affected_geoids: ["01000", "02000", "04000", "06000"]
      spatial_groups: 
        - ["01000", "02000"]
      period_start_date: 2020-04-04
      period_end_date: 2020-04-30
      value:
        distribution: truncnorm
        mean: 0.55
        sd: 0.025
        a: 0
        b: 0.9
    mt_reduce:
      template: MultiTimeReduce
      parameter: r0
      groups:
        - affected_geoids: ["09000", "10000"]
          spatial_groups: ["09000", "10000"]
          periods:
            - start_date: 2020-12-01
              end_date: 2020-12-31
            - start_date: 2021-12-01
              end_date: 2021-12-31
        - affected_geoids: ["01000", "02000", "04000", "06000"]
          spatial_groups: ["01000","04000"]
          periods:
            - start_date: 2021-08-16
              end_date: 2021-11-23
            - start_date: 2022-01-03
              end_date: 2022-09-03
      value:
        distribution: truncnorm
        mean: -0.133
        sd: 0.05
        a: -1
        b: 1

    scn_error:
      template: MultiTimeReduce
      parameter: r0
      groups:
        - affected_geoids: ["09000", "10000"]
          spatial_groups: ["09000", "10000"]
          periods:
            - start_date: 2020-12-01
              end_date: 2020-12-31
            - start_date: 2021-12-01
              end_date: 2021-12-31
        - affected_geoids: ["01000", "02000", "04000", "06000"]
          spatial_groups: ["10000"]
          periods:
            - start_date: 2021-08-16
              end_date: 2021-11-23
            - start_date: 2022-01-03
              end_date: 2022-09-03
      value:
        distribution: truncnorm
        mean: -0.133
        sd: 0.05
        a: -1
        b: 1

    inference:
      template: Stacked
      scenarios: ["all_independent", "all_together", "two_groups", "one_group", "mt_reduce"]
    error:
      template: Stacked
      scenarios: ["scn_error"]
